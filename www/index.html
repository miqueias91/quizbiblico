<!DOCTYPE html>
<html lang="en" ng-app="app" ng-csp>
<head>
    <meta charset="utf-8" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />

    <!-- CSS dependencies -->
    <link rel="stylesheet" href="fontawesome-free-5.1.0-web/css/all.css" />
    <link rel="stylesheet" href="lib/onsen/css/onsenui.css" />
    <link rel="stylesheet" href="lib/onsen/css/onsen-css-components.css" />
    <link rel="stylesheet" href="css/index.css" />    

    <title>Quiz Bíblico</title>
</head>

<body>

<ons-navigator id="appNavigator" swipeable swipe-target-width="80px">
  <ons-page>
    <ons-splitter id="appSplitter">
      <ons-splitter-side id="sidemenu" page="sidemenu.html" swipeable side="left" collapse="" width="260px"></ons-splitter-side>
      <ons-splitter-content page="tabbar.html"></ons-splitter-content>
    </ons-splitter>
  </ons-page>
</ons-navigator>

<template id="sidemenu.html">
  <ons-page>
    <div class="profile-pic">
      <img src="img/logo.png">
    </div>

    <ons-list>
      <ons-list-item onclick="fn.pushPage({'id': 'quiz.html', 'title': 'Conhecimentos Gerais Bíblicos||quiz'})">
        <div class="left">
          <i class="fas fa-play"></i>
        </div>
        <div class="center">
          Jogar
        </div>
        <div class="right">
          <ons-icon icon="fa-link"></ons-icon>
        </div>
      </ons-list-item>

      <ons-list-item onclick="fn.pushPage({'id': 'score.html', 'title': 'Score'})">
        <div class="left">
          <i class="fas fa-tachometer-alt"></i>
        </div>
        <div class="center">
          Score
        </div>
        <div class="right">
          <ons-icon icon="fa-link"></ons-icon>
        </div>
      </ons-list-item>

      <ons-list-item onclick="fn.pushPage({'id': 'minhaConfiguracao.html', 'title': 'Minha Configuração'})">
        <div class="left">
          <i class="fas fa-user"></i>
        </div>
        <div class="center">
          Minha Configuração
        </div>
        <div class="right">
          <ons-icon icon="fa-link"></ons-icon>
        </div>
      </ons-list-item>

      <ons-list-item onclick="fn.loadLink('https://www.innovatesoft.com.br/contato.php')">
        <div class="left">
          <i class="fas fa-comment"></i>
        </div>
        <div class="center">
          Fale Conosco
        </div>
        <div class="right">
          <ons-icon icon="fa-external-link"></ons-icon>
        </div>
      </ons-list-item>

      <ons-list-item onclick="fn.loadLink('https://cristaonarede.com.br/loja')">
        <div class="left">
          <i class="fas fa-store"></i>
        </div>
        <div class="center">
          Livraria
        </div>
        <div class="right">
          <ons-icon icon="fa-external-link"></ons-icon>
        </div>
      </ons-list-item>

      <ons-list-item onclick="fn.loadLink('https://www.instagram.com/innovatesoft/')">
        <div class="left">
            <i class="fab fa-instagram"></i>
        </div>
        <div class="center">
          Instagram
        </div>
        <div class="right">
          <ons-icon icon="fa-external-link"></ons-icon>
        </div>
      </ons-list-item>

      <ons-list-item onclick="fn.loadLink('https://bit.ly/3l9zjYi')">
        <div class="left">
          <i class="fab fa-google-play"></i>
        </div>
        <div class="center">
          Outros app's
        </div>
        <div class="right">
          <ons-icon icon="fa-external-link"></ons-icon>
        </div>
      </ons-list-item>
    </ons-list>

    <script>
      ons.getScriptPage().onInit = function() {
        // Set ons-splitter-side animation
        this.parentElement.setAttribute('animation', ons.platform.isAndroid() ? 'overlay' : 'reveal');
      };
    </script>

    <style>
      .profile-pic {
        width: 100%;
        background-color: #757575;
        margin: 0 auto;
      }

      .profile-pic > img {
          width: 50px;
          /* height: 80px; */
          display: block;
          max-width: 100%;
          margin: 0 auto;
          padding: 10px;
      }

      ons-list-item {
        color: #444;
        font-size: 15px!important;
      }
    </style>
  </ons-page>
</template>

<template id="tabbar.html">
  <ons-page id="tabbar-page">
    <ons-toolbar id="tabbar_">
        <div class="center"><center>Quiz Bíblico</center></div>
      <div class="left">
        <ons-toolbar-button onclick="fn.toggleMenu()">
          <ons-icon style="color: #f5f5f5" icon="ion-navicon, material:md-menu"></ons-icon>
        </ons-toolbar-button>
      </div>
    </ons-toolbar>
    <ons-tabbar swipeable id="appTabbar" position="bottom">
        <ons-tab label="Versão 1.0.4" page="home.html" active></ons-tab>
    </ons-tabbar>

    <script>
      ons.getScriptPage().addEventListener('prechange', function(event) {
        if (event.target.matches('#appTabbar')) {
              event.currentTarget.querySelector('#tabbar_ .center center').innerHTML = 'Quiz Bíblico';
        }
      });
    </script>
  </ons-page>
</template>

<!-- MODAL DE AGUARDE -->
<ons-modal id="modal-aguarde">
    <p style="text-align: center">
        <ons-icon icon="fa-spinner" spin></ons-icon>
        <br><br>
    </p>
</ons-modal>

<template id="home.html">
  <ons-page>
    <ons-card onclick="fn.pushPage({'id': 'quiz.html', 'title': 'Conhecimentos Gerais Bíblicos||quiz'})">

      <div class="title titulo_menu"><i class="fas fa-play"></i><br>JOGAR</div>
    </ons-card>


    <ons-row>
        <ons-col>
            <ons-card onclick="fn.pushPage({'id': 'score.html', 'title': 'Score'})">
              <div class="title titulo_menu"><i class="fas fa-tachometer-alt"></i><br>SCORE</div>
            </ons-card>
        </ons-col>
 
        <ons-col>
            <ons-card onclick="fn.loadLink('https://play.google.com/store/apps/collection/cluster?clp=igNKChkKEzU4MzY0OTEwMzM3MTQyMDQzODIQCBgDEisKJWNvbS5waG9uZWdhcC5naXJpYXNlc3RhZG9zYnJhc2lsZWlyb3MQARgDGAE%3D:S:ANO1ljIUr74&gsr=Ck2KA0oKGQoTNTgzNjQ5MTAzMzcxNDIwNDM4MhAIGAMSKwolY29tLnBob25lZ2FwLmdpcmlhc2VzdGFkb3NicmFzaWxlaXJvcxABGAMYAQ%3D%3D:S:ANO1ljJSHsA')">
              <div class="title titulo_menu"><i class="fab fa-google-play"></i><br>APP'S</div>
            </ons-card>
        </ons-col>
    </ons-row>
    <ons-card onclick="fn.pushPage({'id': 'help.html', 'title': 'AJUDA'})">
      <div class="title titulo_menu"><i class="fas fa-question-circle"></i><br>AJUDA</div>
    </ons-card>

    <style>
      .intro {
        text-align: center;
        padding: 0 20px;
        margin-top: 40px;
      }

      ons-card {
        cursor: pointer;
        color: #704031;
      }

      .card__title,
      .card--material__title {
        font-size: 20px;
      }
    </style>
  </ons-page>
</template>

<template id="score.html">
  <ons-page>
        <ons-toolbar id="score_">
            <div class="left">
                <ons-back-button>Score</ons-back-button>
            </div>
            <div  style="font-size: 20px" class="center"></div>
        </ons-toolbar>
        <ons-list-header style="font-size: 30px;" id="">
            <div class="left">
            </div>
            <div class="center intro" id="maxScore" style="font-size: 100px;margin-top: 100px;">
                Max Score
            </div>
        </ons-list-header>
        
    <script>
        ons.getScriptPage().onInit = function () {
            if (window.localStorage.getItem("versao_pro") === 'NAO') {
              //admob.interstitial.show();
            }
            this.querySelector('#score_ div.center').textContent = 'Max Score';
            var arr = localStorage.getItem('lista-score');
            if (!arr) {
                $("#maxScore").html(0);
            }
            else{
                $("#maxScore").html(maxArray(JSON.parse(arr)));
                app.cadastraScore();
            }

        }
    </script>
    <style>
        .button-margin {
            margin: 6px 0;
        }

      .intro {
        text-align: center;
        padding: 0 20px;
        margin-top: 40px;
      }

      ons-card {
        cursor: pointer;
        color: #704031;
      }

      .card__title,
      .card--material__title {
        font-size: 20px;
      }
    </style>
  </ons-page>
</template>

<template id="help.html">
  <ons-page>
        <ons-toolbar id="score_">
            <div class="left">
                <ons-back-button>Ajuda</ons-back-button>
            </div>
            <div class="center"></div>
        </ons-toolbar>
        <ons-list-header>
            <div class="left">
            </div>
            <div class="center intro" style="font-size: 25px">
                <p>Perguntas Bíblicas</p>

                <p>Quiz de perguntas bíblicas com alternativas para você testar o seu conhecimento e se dedicar ainda mais a Palavra de Deus!</p>

                <p>Nesta seleção de perguntas você encontrará questões gerais sobre a Bíblia, temas do Velho e Novo Testamento.</p>

                <p>Bom desafio!</p>
            </div>
        </ons-list-header>
        
    <script>
        ons.getScriptPage().onInit = function () {
            if (window.localStorage.getItem("versao_pro") === 'NAO') {
              //admob.interstitial.show();
            }
            this.querySelector('#score_ div.center').textContent = 'Ajuda';
            var arr = localStorage.getItem('lista-score');
            $("#maxScore").html(maxArray(JSON.parse(arr)));

        }
    </script>
    <style>
        .button-margin {
            margin: 6px 0;
        }

      .intro {
        text-align: center;
        padding: 0 20px;
        margin-top: 40px;
      }

      ons-card {
        cursor: pointer;
        color: #704031;
      }

      .card__title,
      .card--material__title {
        font-size: 20px;
      }
    </style>
  </ons-page>
</template>

<template id="quiz.html">
  <ons-page>
        <ons-toolbar id="quiz_">
            <div class="left">
                <ons-back-button>Quiz Bíblico Resposta</ons-back-button>
            </div>
            <div class="center" style="font-size: 20px!important"></div>
        </ons-toolbar>
     

        <ons-list-header style="font-size: 30px;margin-top: 10px;" id="textoquiz_">
            <div class="center">
                <span id="acerto"></span>
                <span style="float: right;" id="erro"></span>
            </div>
        </ons-list-header>
        <br>

        <ons-list id="textoquiz">
        </ons-list>

    <script>
        ons.getScriptPage().onInit = function () {
            if (window.localStorage.getItem("versao_pro") === 'NAO') {
              //admob.interstitial.show();
            }
            var dados = this.data.title.split('||'); 
            this.querySelector('#quiz_ div.center').textContent = dados[0];
            $('#acerto').html('Acertos: '+acertos);
            $('#erro').html('Erros: '+erros);
            app.carregaQuiz();
        }
    </script>
    <style>
        .button-margin {
            margin: 6px 0;
        }
      .intro {
        text-align: center;
        padding: 0 20px;
        margin-top: 40px;
      }

      ons-card {
        cursor: pointer;
        color: #549A7D;
      }

      .card__title,
      .card--material__title {
        font-size: 20px;
      }
    </style>
  </ons-page>
</template>

<template id="minhaConfiguracao.html">
  <ons-page>
    <ons-toolbar id="minhasInformacoes_">
        <div class="left">
            <ons-back-button>Minha Configuração</ons-back-button>
        </div>
        <div style="font-size: 20px" class="center"></div>
    </ons-toolbar>
    <div style="text-align: center; margin-top: 30px;">
      <span id="mensagemMinhasInformacoes"><p class="intro">Você está usando a versão FREE.</p></span>
      <br><br>
      <p><ons-input style="width: 90%;margin-bottom: 20px;" id="token" placeholder="Token:" modifier="underbar" type="text" float disabled></ons-input></p>
      <p><ons-input style="width: 90%;margin-bottom: 20px;" id="nome" placeholder="Seu Nome:" modifier="underbar" type="text" float></ons-input></p>
      <p><ons-input style="width: 90%;margin-bottom: 20px;" id="usuario" placeholder="Seu Usuário:" modifier="underbar" float></ons-input></p>
      <p><ons-input style="width: 90%;margin-bottom: 20px;" id="email" placeholder="Seu E-mail:" modifier="underbar" type="email" float></ons-input></p>
      <p><ons-input style="width: 90%;margin-bottom: 20px;" id="celular" placeholder="Seu Celular:" modifier="underbar" type="number" float></ons-input></p>
      <p>
        <ons-select style="width: 90%;margin-bottom: 20px;" id="religiao">
          <option value="">Sua Religião:</option>
          <option value="evangelico">Evangélico</option>
          <option value="catolico">Católico</option>
          <option value="outro">Outro</option>
          <option value="sem_religiao">Sem Religião</option>
        </ons-select>
      </p>
      <br>
      <br>
      <section style="margin: 16px">
        <ons-button modifier="large" class="button-margin" id="salvar_minhas_informacoes">Ok</ons-button>
      </section>
      <br><br>
    </div>
    <script>
      ons.getScriptPage().onInit = function () {
        var token_ = window.localStorage.getItem("playerID") ? window.localStorage.getItem("playerID") : '';
        var nome_ = window.localStorage.getItem("nome") ? window.localStorage.getItem("nome") : '';
        var usuario_ = window.localStorage.getItem("usuario") ? window.localStorage.getItem("usuario") : '';
        var email_ = window.localStorage.getItem("email") ? window.localStorage.getItem("email") : '';
        var celular_ = window.localStorage.getItem("celular") ? window.localStorage.getItem("celular") : '';
        var religiao_ = window.localStorage.getItem("religiao") ? window.localStorage.getItem("religiao") : '';
        
        $("#token").val(token_);
        $("#nome").val(nome_);
        $("#usuario").val(usuario_);
        $("#email").val(email_);
        $("#celular").val(celular_);
        $("#religiao").val(religiao_);

        if (window.localStorage.getItem("versao_pro") === 'NAO') {
          $("#mensagemMinhasInformacoes").html('<p class="intro">Você está usando a versão FREE.</p>');
        }
        else{
          var datahora_pro = window.localStorage.getItem("versao_pro").replace(/(\d*)-(\d*)-(\d*).*/, '$3-$2-$1');
          $("#mensagemMinhasInformacoes").html('<p class="intro">Você está usando a versão PRO, válida até '+datahora_pro+'.</p>');
        }

        this.querySelector('#minhasInformacoes_ div.center').textContent = 'Minha Configuração';

          $( "#salvar_minhas_informacoes" ).click(function() {
            var nome = $("#nome").val();
            var usuario = $("#usuario").val();
            var email = $("#email").val();
            var celular = $("#celular").val();
            var religiao = $("#religiao").val();

            if (nome == "") {
              ons.notification.alert(
                'Informe o seu nome!',
                {title: 'Erro'}
              );
            }
            else if (usuario == "") {
              ons.notification.alert(
                'Informe um usuário!',
                {title: 'Erro'}
              );
            }
            else if (email == "") {
              ons.notification.alert(
                'Informe seu e-mail!',
                {title: 'Erro'}
              );
            }
            else if (celular == "") {
              ons.notification.alert(
                'Informe seu n° de celular!',
                {title: 'Erro'}
              );
            }
            else if (religiao == "") {
              ons.notification.alert(
                'Informe sua religião!',
                {title: 'Erro'}
              );
            }
            else{
              app.verificaExistenciaUsuario(usuario, religiao, nome, email, celular);
            }
          });
      }
    </script>
    <style>
        .button-margin {
            margin: 6px 0;
        }

      .intro {
        text-align: center;
        padding: 0 20px;
        margin-top: 40px;
      }

      ons-card {
        cursor: pointer;
        color: #333;
      }

      .card__title,
      .card--material__title {
        font-size: 20px;
      }
    </style>
  </ons-page>
</template>



<!-- JS dependencies (order matters!) -->
<script type="text/javascript" src="cordova.js"></script>
<script src="js/jquery-3.5.1.min.js"></script>
<script src="js/jquery.mask.min.js"></script>
<script src="js/jquery.maskMoney.min.js"></script>
<script src="lib/onsen/js/onsenui.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-auth.js"></script>
<script src="js/index.js"></script>
<script>
    $(document).ready(function(){
        fn.showDialog('modal-aguarde');
        var timeoutID = 0;
        clearTimeout(timeoutID);
        setTimeout(function () {
            timeoutID = setTimeout(function() { fn.hideDialog('modal-aguarde') }, 1);
        }, 3000);
    });
</script>

</body>

</html>
